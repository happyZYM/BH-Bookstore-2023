<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Socket.IO chat</title>
    <style>
    </style>
  </head>
  <body>
    <!-- <ul id="messages"></ul>
    <form id="form" action="">
      <textarea id="input" autocomplete="off" ></textarea><button id="submit_button" type="button">Send</button>
    </form> -->
    <script src="/socket.io/socket.io.js"></script>
    <script>
      const socket = io();
      // const form = document.getElementById('form');
      // const input = document.getElementById('input');
      // const messages = document.getElementById('messages');
      // form.addEventListener("keydown", function(event) {
      //   if (event.key === "Enter") {
      //     event.stopPropagation();
      //     console.log('enter triggered');
      //     if (event.ctrlKey) {
      //       console.log('ctrl triggered');
      //       event.preventDefault();
      //       if (input.value) {
      //         socket.emit('request', input.value);
      //         input.value = '';
      //       }
      //     } else {
      //       console.log('ctrl not triggered');
      //       event.preventDefault();
      //       input.value=input.value;
      //     }
      //   }
      // });
      // form.addEventListener('submit', (e) => {
      //   console.log('submit triggered');
      //   e.preventDefault();
      // });
      // var button = document.getElementById("submit_button");
      // button.addEventListener('click', function(e) {
      //   e.preventDefault();
      //   console.log('button triggered');
      //   if (input.value) {
      //     socket.emit('request', input.value);
      //     input.value = '';
      //   }
      // });
      socket.on('response', (msg) => {
        console.log("Get response from sever: "+msg);
        // const item = document.createElement('div');
        // item.textContent = msg;
        // messages.appendChild(item);
        // window.scrollTo(0, document.body.scrollHeight);
      });
    </script>
  </body>
</html>